{% extends "layouts/base.html" %}
{% block title %} Orders {% endblock %}
{% block content %}
    <!-- Header-->
    <header class="bg-dark py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <h1 class="display-4 fw-bolder">Orders History</h1>
            </div>
        </div>
    </header>
    <section class="py-5">
        <div class="mb3 d-flex justify-content-center" role="group" aria-label="Filter orders">
            <button class="btn btn-outline-dark active switch-btn" id="delivered" style="width: 200px">
                Delivered
            </button>
            <button class="btn btn-outline-dark switch-btn" id="delivering" style="width: 200px">Delivering
            </button>
        </div>
        <div class="orders-section">

        </div>
    </section>
    <script>
        document.getElementById('delivered').addEventListener('click', function () {
            document.getElementById('delivering').classList.remove('active');
            document.getElementById('delivered').classList.add('active');
            $.ajax({
                url: '{% url 'view_delivered_orders' %}',
                type: 'GET',
                success: function (response) {
                    $('.orders-section').html(response);
                }
            });
        })
        
        document.getElementById('delivered').click();

        document.getElementById('delivering').addEventListener('click', function () {
            document.getElementById('delivered').classList.remove('active');
            document.getElementById('delivering').classList.add('active')
            $.ajax({
                url: '{% url 'view_delivering_orders' %}',
                type: 'GET',
                success: function (response) {
                    $('.orders-section').html(response);
                }
            });
        })
    </script>
{% endblock %}
